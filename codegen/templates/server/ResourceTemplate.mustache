import { AtlantisContext, AtlantisRouter } from '../../../server'

{{#paths}}
{{{parameter.definition}}}
{{/paths}}

{{#paths}}
{{#response}}
{{{definition}}}
{{/response}}
{{/paths}}

export interface {{resourceName}}Resource<TContext = {}> {
    {{#paths}}

    {{operationId}}(
        params: {{parameter.name}},
        context: AtlantisContext<TContext>,
    ): Promise<{{response.name}}>
    {{/paths}}

}

export class {{resourceName}}ResourceDefinition {
    public async bindRoutes(router: AtlantisRouter, resource: {{resourceName}}Resource) {
        {{#paths}}
        router.{{method}}<{{parameter.name}}, {{response.name}}>('{{{path}}}', resource.{{operationId}}.bind(resource))
        {{/paths}}

        return this
    }
}

